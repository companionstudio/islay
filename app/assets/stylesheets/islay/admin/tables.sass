
/* -------------------------------------------------------------------------- */
/* TABLE
/* -------------------------------------------------------------------------- */
table
  border-bottom: 0.1em solid $light-grey
  background: white
  width: 100%
  float: left

  +for-phone
    thead
      display: none

    tbody
      td
        display: block
        width: 100%

  th.select span
    +hide

  th, td
    &.select
      padding-left: 0
      padding-right: 0
      width: 2.5em
      text-align: center

      input
        margin: 0
  td
    vertical-align: middle

  /* UPDATE/EDIT META-DATA */
  th.meta,
  td.meta
    width: 15em

  td.meta
    color: $dark-grey
    font-size: 0.75rem
    line-height: 1.2
    max-width: 10rem

  th.currency,
  td.currency
    font-family: $alternate-font-family
    text-align: char
    width: 6rem

  td.boolean,
  td.indicator,
  td.select,
  td.meta
    vertical-align: middle

    .time
      display: block

  th.time,
  td.time
    font-size: 0.7rem
    color: $mid-grey

  td.stock,
  th.stock,
  td.number,
  th.number,
    width: 5rem

  th.quantity,
  td.quantity
    width: 4em


  /* YES/NO FLAGS */
  th.boolean,
  td.boolean
    text-align: center
    width: 4em

    +for-phone
      width: auto

  td.status
    text-align: center
    width: 1em

    i
      color: $mid-grey

  span.boolean
    font-family: icons

    text-align: center
    width: 3.5em
    float: left

    +for-phone
      width: 2rem

      &:before
        font-size: 1rem

    &:before
      +opacity(0.85)
      font-size: 0.85rem
      font-weight: bold

    &.true
      +icon-ok
        color: $positive-color

    &.false
      +icon-remove
        color: $negative-color

    span
      +hide

  span.time
    display: block

  span.summary
    padding-top: 0


  /* THE MAIN COLUMN */
  .title
    display: inline-block
    font-family: $alternate-font-family
    font-weight: $alternate-font-weight
    font-size: 1rem
    text-decoration: none

  /* INDICATOR FOR COUNTS, STATUSES */
  th.indicator,
  td.indicator
    width: 8rem

  td.indicator
    padding-top: 0.5em
    padding-bottom: 0.5em

  /* DIRECTION */
  .dir
    margin: 0.35em 0 0 0.5em
    float: right

    &:before
      color: $mid-grey
      font: Icons
      font-size: 1.4em

    &.up
      +icon-arrow-up

    &.down
      +icon-arrow-down

    span
      +hide

  /* ALERT */
  tr.alert.true
    td
      background-color: #EBCEC8

thead th
  background-color: $very-light-grey
  border-bottom: 0.1em solid $light-grey
  color: $dark-grey
  font-size: 0.65rem
  padding: 1em 1em 0.6em 1em
  text-transform: uppercase

  +for-phone
    font-size: 0.65rem
    padding: 0.5rem

td,
tbody > tr > th,
tfoot th
  padding: 0.75rem 1rem
  text-align: left

  +for-phone
    padding: 0.5rem

tbody
  td
    +transition(background, 0.1s)
    &:first-child
      &:first-letter
        text-transform: uppercase

    h3
      padding-top: 0!important
      margin-bottom: 1rem!important

tr:nth-child(even)
  td, th
    background-color: #F7F8F9

th.control
  text-indent: -1000em
  letter-spacing: -1000em
  width: 4em

tbody > tr > th
  border-top: 0.1em solid $light-grey
  border-bottom: 0.1em solid $light-grey
  background-color: white
  font-weight: bold
  color: $dark-grey

th,
td
  border-left: 0.1em solid $light-grey
  vertical-align: top

tr th:first-child,
tr td:first-child
  border-left-width: 0

/* Selected rows*/
tr.selected
  td
    background: $selected-background-color
    border-color: lighten($selected-background-color, 20)!important
    color: $selected-foreground-color

    a
      +islay-text-shadow
      color: $selected-foreground-color

    .summary
      color: lighten($selected-background-color, 30)

    &.meta
      color: lighten($selected-background-color, 40)

  &:nth-child(odd)
    td
      background: lighten($selected-background-color, 10)

  .boolean:before
    color: rgba(255, 255, 255, 0.6)!important

  span.indicator
    background-color: rgba(0,0,0,0.3)

tfoot
  th
    vertical-align: middle

  td
    background-color: #F6F6F6

  th, td
    &:first-child:last-child
      a.button:last-child
        float: right
      a.button:first-child
        float: left

  .total
    td
      font-size: 1.2em

  tr:first-child
    td
      border-top: 1px solid $light-grey

  +for-print
    button,
    .button
      display: none!important

tr.child-row
  display: none

  input, textarea
    +transition-property(opacity)
    +transition-duration(400ms)
    +transition-delay(100ms)
    +opacity(0)

  &.child-row-expanded
    display: table-row

    input, textarea
      +opacity(1)

.child-row-toggle
  color: $link-color
  cursor: pointer
  font-size: 0.8rem

table.sortable
  tbody
    td
      border-bottom: 1px solid #DDD

      .field
        margin-bottom: 0!important

    tr:last-child
      border-bottom: 0

/* TABLE LEVELS/INDENTATION */
table
  .level-1 .title,
  .level-2 .title,
  .level-3 .title,
  .level-4 .title
    border-left: 0.1em solid $mid-grey
    padding-left: 1em

  .level-1 .title
    margin-left: 1em

  .level-2 .title
    margin-left: 2em

  .level-3 .title
    margin-left: 3em

  .level-4 .title
    margin-left: 4em

table
  td.collapsible
    position: relative

  .collapsible-toggle
    +pos-absolute(0, 0, 0)
    width: 2.5rem
    i
      color: #999
      padding: 0.75rem
      width: 1rem
      height: 1rem
      margin: auto
      text-align: center
      line-height: 1rem
      +pos-absolute-fill

+for-phone
  table.sortable
    thead th
      display: none

    tr, th, td,
    tbody
      +box-sizing(border-box)
      border: none
      display: block
      width: 100%!important

    tr
      position: relative

      &:nth-child(odd)
        td
          background: #FCFCFC

    td
      padding-top: 0.25rem
      padding-bottom: 0.25rem

      &.name
        a
          font-weight: bold

      &.table-count
        +pos-absolute(0, false, 0, 0)
        width: 2rem!important
        vertical-align: middle
        border-right: 1px solid #DDD
        border-bottom: 1px solid #DDD
        text-align: center

        ~ td
          padding-left: 2.5rem!important

      &:last-child
        border-bottom: 1px solid #DDD
        padding-bottom: 0.5rem

      &:first-child,
      &.table-count + td
        padding-top: 0.5rem

    tr
      &:last-child
        td
          &:last-child,
          &.table-count
            border-bottom: none!important
